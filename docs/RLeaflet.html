<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>R &amp; Leaflet</title>

<script src="site_libs/header-attrs-2.14/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="site_libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="site_libs/leaflet-1.3.1/leaflet.js"></script>
<link href="site_libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="site_libs/proj4-2.6.2/proj4.min.js"></script>
<script src="site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="site_libs/leaflet-binding-2.1.1/leaflet.js"></script>
<script src="site_libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="site_libs/leaflet-providers-plugin-2.1.1/leaflet-providers-plugin.js"></script>
<link href="site_libs/leaflet-markercluster-1.0.5/MarkerCluster.css" rel="stylesheet" />
<link href="site_libs/leaflet-markercluster-1.0.5/MarkerCluster.Default.css" rel="stylesheet" />
<script src="site_libs/leaflet-markercluster-1.0.5/leaflet.markercluster.js"></script>
<script src="site_libs/leaflet-markercluster-1.0.5/leaflet.markercluster.freezable.js"></script>
<script src="site_libs/leaflet-markercluster-1.0.5/leaflet.markercluster.layersupport.js"></script>
<link href="site_libs/leaflet-awesomemarkers-2.0.3/leaflet.awesome-markers.css" rel="stylesheet" />
<script src="site_libs/leaflet-awesomemarkers-2.0.3/leaflet.awesome-markers.min.js"></script>
<link href="site_libs/fontawesome-4.7.0/font-awesome.min.css" rel="stylesheet" />
<link href="site_libs/minichart-0.2.2/minicharts.css" rel="stylesheet" />
<script src="site_libs/minichart-0.2.2/leaflet.minicharts.min.js"></script>
<link href="site_libs/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Code</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="Excel.html">R &amp; Excel</a>
</li>
<li>
  <a href="RLeaflet.html">R &amp; Leaflet</a>
</li>
<li>
  <a href="quarto.html">Quarto</a>
</li>
<li>
  <a href="Impressum.html">Impressum</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">R &amp; Leaflet</h1>

</div>


<style>

.list-group-item.active, .list-group-item.active:focus, .list-group-item.active:hover {
    z-index: 2;
    color: #fff;
    background-color: #A67D8E;
    border-color: #aba2a7;
    font-family: Helvetica;
}

#header {
<!-- color: #869c98;  -->
 font-family: Helvetica;
  font-size: 36px;
}

body {
  font-family: Helvetica;
  background-color: #eee6e7;
}
</style>
<p style="margin-top: 30px;">
Leaflet ist eine Open Source Bibliothek mit der interaktive Karten
erstellt werden können. Über das R-Package <code>leaflet</code> lassen
sich verschiedene GIS-Daten (z.B. Koordinaten, Layer) in interaktiven
Karten darstellen. Im fogenden möchte ich einige nützliche
Funktionalitäten darstellen.
</p>
<p style="margin-top: 30px;">
<div id="einfache-karte" class="section level2">
<h2>Einfache Karte</h2>
</p>
<p>Um eine einfache LeafletKarte zu erstellen, benötigen wir eine
Hintergrundkarte und einen Kartenausschnitt, der dargestellt werden
soll. Die Region kann entweder über eine Koordinate herangezoomt werden,
oder durch hinzufügen eines Layers (z.B. aus einer Shape-Datei). Es gibt
eine Vielzahl an möglichen Hintergrunddaten. Eine sehr umfangreiche
Übersicht an Hintergrundkarten findet man z.B. hier: <a
href="http://leaflet-extras.github.io/leaflet-providers/preview/">Kartenauswahl</a></p>
<pre class="r"><code>library(leaflet)
library(tidyverse)

leaflet() %&gt;%
  # Mitte auf München setzen
  setView(lng = 11.572347, lat = 48.138345, zoom = 12) %&gt;%
  # Hintergrundkarte festlegen
  addProviderTiles(providers$OpenStreetMap.DE, group = &quot;Open Street Map DE&quot;) %&gt;%
  # Zusätzliche Hintergrundkarten als Alternative
  addProviderTiles(providers$Esri.WorldImagery, group = &quot;ESRI World Imagery&quot;) %&gt;%
  # Auswahlfeld für den Nutzer um sich für eine Hintergrundkarte zu entscheiden
    addLayersControl(
     baseGroups = c(&quot;Open Street Map DE&quot;,&quot;ESRI World Imagery&quot;)     )</code></pre>
<div id="htmlwidget-90b8883c98ff5c7a387c" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-90b8883c98ff5c7a387c">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"setView":[[48.138345,11.572347],12,[]],"calls":[{"method":"addProviderTiles","args":["OpenStreetMap.DE",null,"Open Street Map DE",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["Esri.WorldImagery",null,"ESRI World Imagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addLayersControl","args":[["Open Street Map DE","ESRI World Imagery"],[],{"collapsed":true,"autoZIndex":true,"position":"topright"}]}]},"evals":[],"jsHooks":[]}</script>
<p style="margin-top: 30px;">
</div>
<div id="marker-einfügen" class="section level2">
<h2>Marker einfügen</h2>
</p>
<p>Um Marker einzeichnet zu können, simulieren wir für Deutschland,
Österreich und die Schweiz Koordinaten. Diese werden drei Kategorien
zugeordnet, nach denen sie später eingefärbt werden können. Im Package
<code>rnaturalearth</code> sind die Geometrien der Länder verfügbar.</p>
<pre class="r"><code>library(rnaturalearth)
library(sf)

deu = ne_countries(country = &quot;Germany&quot;, scale = &quot;medium&quot;, returnclass = &quot;sf&quot;) %&gt;%
  # Transformation nach WGS84 (entspricht crs 4326)
  st_transform(crs = 4326)
oe = ne_countries(country = &quot;Austria&quot;, scale = &quot;medium&quot;, returnclass = &quot;sf&quot;) %&gt;%
  # Transformation nach WGS84 (entspricht crs 4326)
  st_transform(crs = 4326)
ch = ne_countries(country = &quot;Switzerland&quot;, scale = &quot;medium&quot;, returnclass = &quot;sf&quot;) %&gt;%
  # Transformation nach WGS84 (entspricht crs 4326)
  st_transform(crs = 4326)


#Koordinaten simulieren
set.seed(1234)
deutschand_punkte = st_sample(deu, size = 150)
oesterreich_punkte = st_sample(oe, size = 50)
schweiz_punkte = st_sample(ch, size = 50)

# Zu einem Datensatz zusammenfassen
#Deutschland
deutschand_punkte_df &lt;- as.data.frame(st_coordinates(deutschand_punkte))
deutschand_punkte_df &lt;- cbind(deutschand_punkte_df, Typ = sample(c(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;), size = nrow(deutschand_punkte_df), replace = T, prob = c(0.2, 0.3, 0.5))) %&gt;%
  mutate(Land = &quot;Deutschland&quot;)

# Österreich
oesterreich_punkte_df &lt;- as.data.frame(st_coordinates(oesterreich_punkte))
oesterreich_punkte_df &lt;- cbind(oesterreich_punkte_df, Typ = sample(c(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;), size = nrow(oesterreich_punkte_df), replace = T, prob = c(0.4, 0.1, 0.5))) %&gt;%
  mutate(Land = &quot;Österreich&quot;)

# Schweiz
schweiz_punkte_df &lt;- as.data.frame(st_coordinates(schweiz_punkte))
schweiz_punkte_df &lt;- cbind(schweiz_punkte_df, Typ = sample(c(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;), size = nrow(schweiz_punkte_df), replace = T, prob = c(0.6, 0.2, 0.2))) %&gt;%
  mutate(Land = &quot;Schweiz&quot;)

dach_df &lt;- rbind(deutschand_punkte_df, oesterreich_punkte_df, schweiz_punkte_df)</code></pre>
<p>Im Dataframe <code>dach_df</code> sind nun für die Länder Deutschand,
Österreich und Schweiz die Koordinaten vorhanden.</p>
<pre class="r"><code> leaflet(data = dach_df) %&gt;%
     addTiles() %&gt;%  # Default ist hier OpenStreetMap
     addMarkers(~X, ~Y, popup = ~as.character(Typ), label = ~as.character(Typ))</code></pre>
<div id="htmlwidget-73ed492d7dad84eab14d" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-73ed492d7dad84eab14d">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addMarkers","args":[[53.4536262582262,51.5279102952154,48.8265726462739,52.9809025453451,49.5348286028666,50.4208547032221,49.0652766744666,48.8628203912632,52.4941361361844,54.8906854323042,53.1751950624995,51.5843650419741,53.3659261030112,51.2528887947336,51.7597288369964,49.2104403047567,49.3273982858745,51.4963400134045,49.1990195695341,51.703792105442,51.1606608976794,53.7574812312811,51.784508042919,49.2442772349263,48.1526260992373,48.0074078105433,52.9694229161928,47.6353879903442,52.965073832512,53.0569019792671,50.0538786635278,53.3866713002481,51.054356255408,53.5649385465899,51.3530875930441,49.2313219480833,49.8166941060566,50.0024303712482,50.4602170733172,53.263290952922,52.8858965688127,49.3365979815375,50.6718265829728,49.3872307137931,52.5516063806047,53.5610619547326,52.2230496752997,51.8548149162492,52.5305781088007,48.1147845140656,52.0702012442151,49.5484028922976,49.8799007502969,51.3072642797274,50.638432870417,51.3819670913128,54.3285223842531,52.4380846569363,50.2946596766429,48.7113975599526,49.8437772448412,53.6743556573357,53.8992925225195,50.2153181011166,49.7762641388967,49.9872992864935,50.4458778507548,48.6351390763514,52.2458375223492,52.8541000963692,54.0693504304849,48.6983520494152,50.7934317133465,50.1305747375308,50.040287448558,50.3170747580168,54.6846467813573,51.1388664912577,49.5589603655183,52.3219270361356,47.6030515578219,52.9318328335005,48.2253617524864,52.6526725840332,51.7304433550661,52.8331296284419,50.9024235460861,53.1315315119533,51.456112746926,49.7040939964597,52.2657320265737,48.984783534464,53.5482952758319,52.7798235549534,54.0402931118553,49.5216857425821,50.1994129720777,53.0599963489264,48.0081085744637,50.3998243059873,52.2438285160797,48.7802849119387,48.0594348216535,52.478462266945,52.5148726785947,52.9025444224711,52.8423663174114,52.2027229940131,48.4930501278095,51.5082701115251,51.2886546730517,49.9813800336585,52.4711225878347,50.3636597088474,53.0412360502517,53.1936703787348,51.5786706245654,48.6525635507313,53.0512829958727,47.948991029809,51.9628547970113,50.3581924966346,53.4548898275243,48.853696603937,53.9423640130079,50.3658704322173,51.1061105346766,50.3275981325373,52.2779408503001,54.2808872397711,49.8155935293171,49.2979283630672,53.2596343082183,50.5402633668137,49.2725647871595,52.2538984865313,50.0867851714183,52.8670733079168,51.7083064446981,53.5109989039817,52.9474144188124,51.0189540050995,51.4352052715238,52.0268265587963,51.8905835029727,49.1419476512582,53.1950855574163,52.9918300505862,52.4252278818479,51.8380709926726,47.0166672850118,48.4493645112206,47.9771036110487,46.9317398021023,48.4806362265485,46.9062927781352,48.1167438277568,47.4323874302735,47.3910743798215,47.4773008191864,47.8172347164838,48.5127191240277,48.5701526028124,47.1709011511046,47.317092922891,47.0829357682078,47.9868741576864,46.7051602854173,47.3134450248179,48.0447887430628,48.1986661645269,48.010774112546,46.710858761075,47.1177019328996,46.8335538503645,47.8418676553151,47.4993738079962,47.396825913122,46.9323333893154,47.7087062908809,48.4780747554075,47.1847015046592,47.237410402001,48.4104079457651,48.1317120676468,48.5376616904647,47.261038728659,47.6427222141104,47.1956794778618,47.942405291354,47.9641311462463,48.5614618196134,47.1337011108699,47.0606374117562,47.2680653502651,47.8323834265727,47.7092894406215,47.184631546295,47.3118099454085,48.6944775199411,46.8964972385263,46.5833117984578,46.3072995960946,47.5503797786934,47.1683461429158,46.5418927266733,47.0183362554776,46.944700020547,47.0094705133021,47.5538224940683,47.453771603817,45.9680008701593,47.0356080838363,46.8149252196847,46.2600913077916,46.9526816252149,46.5266966826971,46.387045394615,47.1874526403382,46.1094909912055,47.1378819361823,46.8334859480564,47.1942922955493,46.8054019170347,47.424758994298,47.5081017499143,46.822094329565,46.4773837486455,46.9296955598922,46.1832569025222,46.6762323703532,46.6393031847795,46.9127794290367,46.5550880802145,46.4108403027004,47.3911465961475,46.7359630379202,46.6802590686624,46.576488304089,46.581060446242,46.2895165028351,47.3603267377177,46.5974650544174,46.5771331437981,46.7119745245541,46.399914470821,46.3540761671009,47.2068602066758,46.2167891795134,46.9044601915718],[11.5572108279472,11.4379167892686,11.5671029741614,13.7427141512123,11.7221768905751,11.9582353125733,10.5675879194769,12.2101790688546,10.8489887553815,8.44709961634026,8.53486429118364,13.5263788739084,8.30135294292661,7.56772887883363,7.98449569555433,8.75739897715103,8.62991294407878,6.22384542558888,7.86152247572259,10.6724264858189,14.2349487042194,13.4718770118095,10.034898832536,8.28638601246585,8.64803723141333,10.503984769266,7.51619455845151,7.70076681652056,8.22797989078936,13.2521258443125,10.9255472794698,11.7780059724101,11.5528125755431,8.87791162231354,10.4553555654902,12.0590838495858,10.2995940750715,8.0916836706929,12.8684285171922,8.69396452166893,12.4270702672197,10.4786969291323,7.25884954694271,10.4730876875878,10.3817481456933,12.7378237577547,7.45715159530108,8.76261691072962,8.04677576950571,12.3283616855165,8.67938468532454,10.5153484019862,6.33055515439142,6.9701665306965,13.0301899600171,9.37704964446223,8.79432809705577,11.9803237106505,10.1797793785992,10.8425308645792,9.42498001028912,8.70481050344154,14.0657592426194,7.38153381526177,7.08555271864235,7.06298418268842,6.82185640369419,10.5431555163961,8.60706729207022,8.69360575588134,12.6546543477104,11.0330979954039,8.42442349287385,7.7277703438464,7.08244507495741,7.04785342816304,9.84658423461812,12.3907070592086,6.97325841296334,14.2205652895634,8.41433427668674,13.1587775714171,12.6744155983146,14.2470025851183,10.3100736076051,8.45374873615699,8.16144724292865,10.4668749229831,8.77419082435288,11.6652876609132,14.2318231090235,10.1420678858693,14.1755152327961,11.3322993005106,10.4622463973481,8.8285977660782,10.2664721725183,9.12719345826017,11.6046391123183,12.649896510633,11.0412560380268,11.1405946926014,7.95128289028578,8.006801275353,9.29766503263972,10.9419698817056,9.79083201502001,11.1320313655095,9.81889026292219,6.63590171507663,11.694586569769,6.52353219772734,13.2067854477654,8.83677019464703,12.7935919242997,11.2089102871761,12.349837804427,9.76822560133528,9.00433009280432,12.810361746887,9.74124699031429,10.9947318994829,8.63292103343511,9.01585079591418,11.3595096178126,6.55437292983021,14.6135342778138,11.6501117994313,8.69769742727156,12.6587732705094,11.7093606632991,12.5686740462336,11.7120467386307,11.9094254293346,8.76547148673119,12.8903707612237,10.6780221880259,8.67545528766057,9.55937549420744,7.72965829559733,11.0444062104576,8.42549848513745,12.8006660436863,14.3953737361688,11.7073640087303,10.2467574320655,13.6455961249882,8.22190585907822,8.92438992458078,10.4329058532701,13.6902449523659,14.2901164245409,13.886134879366,10.596010400449,16.8070857278217,12.5688612234193,16.9724346597425,13.4254520786012,13.0853519400125,10.6070984152513,13.5154347837295,13.7963040919618,14.5580410593825,10.0872428444254,14.8816678995267,15.3474566232312,15.343237295254,14.5330599051202,14.130429449695,14.1412306064181,14.0668557088931,14.6234214407629,15.6306487124656,16.0454543733047,14.6654636725342,15.9725555218068,15.2140714715785,15.8480748112823,15.5777819337179,12.234165830768,14.0404295737282,10.3663587640428,14.5345571315914,15.8927066305573,13.8161010498914,15.6750322663367,9.82079045544918,14.3461134556604,11.4491073485427,14.2857482761223,15.6110550303553,14.5219683723727,15.2223146348567,12.4234091683014,14.1842341318016,16.8881721743282,15.2319942894655,15.840694160484,16.2580284163188,16.4917615933319,8.72819342946646,9.62761036882357,7.32422616368032,8.26631061554532,9.15568169738768,8.05511510266029,9.24101570018511,7.08723417328025,9.74446954656642,8.115700105203,8.79239965457151,7.28622483982541,9.69352786156265,7.44080807174665,6.09394283496742,8.39184533944945,8.1178602760007,8.25331565603388,7.32874418810212,8.65465700096616,9.16797863839529,8.05979866067188,6.9413148181514,7.81129314528722,8.83649215719461,8.51867105724646,10.3232052796229,6.82186788685196,6.80827627760383,8.01135170422341,6.88442231049136,6.41582366304175,9.66889616477788,10.3902909935513,7.9409474654819,7.51089900108929,7.33850753955122,10.3947331681194,6.41511181587636,8.39670658594733,8.75358286256247,9.52902998361324,9.58985037411663,10.4000299224397,10.1297948507838,7.18795059282339,8.62477899983401,8.14138838315176,8.90919660960213,6.87007083905197],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["C","B","B","C","C","A","B","A","B","B","B","A","A","C","B","B","C","C","B","A","C","C","C","C","C","A","C","A","C","B","A","A","A","C","B","C","C","C","B","B","B","C","C","B","B","A","C","C","C","C","A","B","B","C","C","C","B","B","A","A","B","C","A","C","A","C","C","C","B","C","C","C","C","C","C","C","C","A","A","B","B","C","C","C","B","C","B","B","C","C","C","A","C","B","C","B","C","B","C","B","A","B","A","B","B","B","C","C","C","C","B","A","C","A","A","C","A","C","C","B","C","C","A","B","C","C","B","C","B","C","A","B","C","B","C","B","B","C","A","B","B","A","C","B","A","C","C","A","C","C","C","A","B","C","A","C","A","C","B","C","A","C","C","C","A","C","C","C","B","B","C","A","C","A","A","C","A","A","C","A","C","C","C","B","C","C","A","A","C","C","C","A","C","B","A","C","A","C","B","C","B","A","A","C","B","A","A","A","A","C","A","B","A","A","A","A","A","B","A","C","A","A","C","A","A","B","B","A","C","A","A","A","A","A","C","A","A","A","C","A","C","B","B","A","A","A","A","A","A","C"],null,null,null,["C","B","B","C","C","A","B","A","B","B","B","A","A","C","B","B","C","C","B","A","C","C","C","C","C","A","C","A","C","B","A","A","A","C","B","C","C","C","B","B","B","C","C","B","B","A","C","C","C","C","A","B","B","C","C","C","B","B","A","A","B","C","A","C","A","C","C","C","B","C","C","C","C","C","C","C","C","A","A","B","B","C","C","C","B","C","B","B","C","C","C","A","C","B","C","B","C","B","C","B","A","B","A","B","B","B","C","C","C","C","B","A","C","A","A","C","A","C","C","B","C","C","A","B","C","C","B","C","B","C","A","B","C","B","C","B","B","C","A","B","B","A","C","B","A","C","C","A","C","C","C","A","B","C","A","C","A","C","B","C","A","C","C","C","A","C","C","C","B","B","C","A","C","A","A","C","A","A","C","A","C","C","C","B","C","C","A","A","C","C","C","A","C","B","A","C","A","C","B","C","B","A","A","C","B","A","A","A","A","C","A","B","A","A","A","A","A","B","A","C","A","A","C","A","A","B","B","A","C","A","A","A","A","A","C","A","A","A","C","A","C","B","B","A","A","A","A","A","A","C"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[45.9680008701593,54.8906854323042],"lng":[6.09394283496742,16.9724346597425]}},"evals":[],"jsHooks":[]}</script>
<p style="margin-top: 30px;">
</div>
<div id="cluster" class="section level2">
<h2>Cluster</h2>
</p>
<p>Besonders wenn es sich um viele Marker bei niedriger Zoomstufe
handelt, ist die Darstellung der einzelnen Icons manchmal
unübersichtlich. Teilweise gibt es auch Darstellungsprobleme wenn
mehrere Marker mit der gleichen Koordinate hinterlegt sind. In solchen
Fällen bietet sich eine Clusterdarstellung an.</p>
<pre class="r"><code>leaflet(data = dach_df) %&gt;%
     addTiles() %&gt;%  
     addMarkers(~X, ~Y, popup = ~as.character(Typ), label = ~as.character(Typ), clusterOptions = markerClusterOptions())</code></pre>
<div id="htmlwidget-bf48d365a3d76bbc5754" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-bf48d365a3d76bbc5754">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addMarkers","args":[[53.4536262582262,51.5279102952154,48.8265726462739,52.9809025453451,49.5348286028666,50.4208547032221,49.0652766744666,48.8628203912632,52.4941361361844,54.8906854323042,53.1751950624995,51.5843650419741,53.3659261030112,51.2528887947336,51.7597288369964,49.2104403047567,49.3273982858745,51.4963400134045,49.1990195695341,51.703792105442,51.1606608976794,53.7574812312811,51.784508042919,49.2442772349263,48.1526260992373,48.0074078105433,52.9694229161928,47.6353879903442,52.965073832512,53.0569019792671,50.0538786635278,53.3866713002481,51.054356255408,53.5649385465899,51.3530875930441,49.2313219480833,49.8166941060566,50.0024303712482,50.4602170733172,53.263290952922,52.8858965688127,49.3365979815375,50.6718265829728,49.3872307137931,52.5516063806047,53.5610619547326,52.2230496752997,51.8548149162492,52.5305781088007,48.1147845140656,52.0702012442151,49.5484028922976,49.8799007502969,51.3072642797274,50.638432870417,51.3819670913128,54.3285223842531,52.4380846569363,50.2946596766429,48.7113975599526,49.8437772448412,53.6743556573357,53.8992925225195,50.2153181011166,49.7762641388967,49.9872992864935,50.4458778507548,48.6351390763514,52.2458375223492,52.8541000963692,54.0693504304849,48.6983520494152,50.7934317133465,50.1305747375308,50.040287448558,50.3170747580168,54.6846467813573,51.1388664912577,49.5589603655183,52.3219270361356,47.6030515578219,52.9318328335005,48.2253617524864,52.6526725840332,51.7304433550661,52.8331296284419,50.9024235460861,53.1315315119533,51.456112746926,49.7040939964597,52.2657320265737,48.984783534464,53.5482952758319,52.7798235549534,54.0402931118553,49.5216857425821,50.1994129720777,53.0599963489264,48.0081085744637,50.3998243059873,52.2438285160797,48.7802849119387,48.0594348216535,52.478462266945,52.5148726785947,52.9025444224711,52.8423663174114,52.2027229940131,48.4930501278095,51.5082701115251,51.2886546730517,49.9813800336585,52.4711225878347,50.3636597088474,53.0412360502517,53.1936703787348,51.5786706245654,48.6525635507313,53.0512829958727,47.948991029809,51.9628547970113,50.3581924966346,53.4548898275243,48.853696603937,53.9423640130079,50.3658704322173,51.1061105346766,50.3275981325373,52.2779408503001,54.2808872397711,49.8155935293171,49.2979283630672,53.2596343082183,50.5402633668137,49.2725647871595,52.2538984865313,50.0867851714183,52.8670733079168,51.7083064446981,53.5109989039817,52.9474144188124,51.0189540050995,51.4352052715238,52.0268265587963,51.8905835029727,49.1419476512582,53.1950855574163,52.9918300505862,52.4252278818479,51.8380709926726,47.0166672850118,48.4493645112206,47.9771036110487,46.9317398021023,48.4806362265485,46.9062927781352,48.1167438277568,47.4323874302735,47.3910743798215,47.4773008191864,47.8172347164838,48.5127191240277,48.5701526028124,47.1709011511046,47.317092922891,47.0829357682078,47.9868741576864,46.7051602854173,47.3134450248179,48.0447887430628,48.1986661645269,48.010774112546,46.710858761075,47.1177019328996,46.8335538503645,47.8418676553151,47.4993738079962,47.396825913122,46.9323333893154,47.7087062908809,48.4780747554075,47.1847015046592,47.237410402001,48.4104079457651,48.1317120676468,48.5376616904647,47.261038728659,47.6427222141104,47.1956794778618,47.942405291354,47.9641311462463,48.5614618196134,47.1337011108699,47.0606374117562,47.2680653502651,47.8323834265727,47.7092894406215,47.184631546295,47.3118099454085,48.6944775199411,46.8964972385263,46.5833117984578,46.3072995960946,47.5503797786934,47.1683461429158,46.5418927266733,47.0183362554776,46.944700020547,47.0094705133021,47.5538224940683,47.453771603817,45.9680008701593,47.0356080838363,46.8149252196847,46.2600913077916,46.9526816252149,46.5266966826971,46.387045394615,47.1874526403382,46.1094909912055,47.1378819361823,46.8334859480564,47.1942922955493,46.8054019170347,47.424758994298,47.5081017499143,46.822094329565,46.4773837486455,46.9296955598922,46.1832569025222,46.6762323703532,46.6393031847795,46.9127794290367,46.5550880802145,46.4108403027004,47.3911465961475,46.7359630379202,46.6802590686624,46.576488304089,46.581060446242,46.2895165028351,47.3603267377177,46.5974650544174,46.5771331437981,46.7119745245541,46.399914470821,46.3540761671009,47.2068602066758,46.2167891795134,46.9044601915718],[11.5572108279472,11.4379167892686,11.5671029741614,13.7427141512123,11.7221768905751,11.9582353125733,10.5675879194769,12.2101790688546,10.8489887553815,8.44709961634026,8.53486429118364,13.5263788739084,8.30135294292661,7.56772887883363,7.98449569555433,8.75739897715103,8.62991294407878,6.22384542558888,7.86152247572259,10.6724264858189,14.2349487042194,13.4718770118095,10.034898832536,8.28638601246585,8.64803723141333,10.503984769266,7.51619455845151,7.70076681652056,8.22797989078936,13.2521258443125,10.9255472794698,11.7780059724101,11.5528125755431,8.87791162231354,10.4553555654902,12.0590838495858,10.2995940750715,8.0916836706929,12.8684285171922,8.69396452166893,12.4270702672197,10.4786969291323,7.25884954694271,10.4730876875878,10.3817481456933,12.7378237577547,7.45715159530108,8.76261691072962,8.04677576950571,12.3283616855165,8.67938468532454,10.5153484019862,6.33055515439142,6.9701665306965,13.0301899600171,9.37704964446223,8.79432809705577,11.9803237106505,10.1797793785992,10.8425308645792,9.42498001028912,8.70481050344154,14.0657592426194,7.38153381526177,7.08555271864235,7.06298418268842,6.82185640369419,10.5431555163961,8.60706729207022,8.69360575588134,12.6546543477104,11.0330979954039,8.42442349287385,7.7277703438464,7.08244507495741,7.04785342816304,9.84658423461812,12.3907070592086,6.97325841296334,14.2205652895634,8.41433427668674,13.1587775714171,12.6744155983146,14.2470025851183,10.3100736076051,8.45374873615699,8.16144724292865,10.4668749229831,8.77419082435288,11.6652876609132,14.2318231090235,10.1420678858693,14.1755152327961,11.3322993005106,10.4622463973481,8.8285977660782,10.2664721725183,9.12719345826017,11.6046391123183,12.649896510633,11.0412560380268,11.1405946926014,7.95128289028578,8.006801275353,9.29766503263972,10.9419698817056,9.79083201502001,11.1320313655095,9.81889026292219,6.63590171507663,11.694586569769,6.52353219772734,13.2067854477654,8.83677019464703,12.7935919242997,11.2089102871761,12.349837804427,9.76822560133528,9.00433009280432,12.810361746887,9.74124699031429,10.9947318994829,8.63292103343511,9.01585079591418,11.3595096178126,6.55437292983021,14.6135342778138,11.6501117994313,8.69769742727156,12.6587732705094,11.7093606632991,12.5686740462336,11.7120467386307,11.9094254293346,8.76547148673119,12.8903707612237,10.6780221880259,8.67545528766057,9.55937549420744,7.72965829559733,11.0444062104576,8.42549848513745,12.8006660436863,14.3953737361688,11.7073640087303,10.2467574320655,13.6455961249882,8.22190585907822,8.92438992458078,10.4329058532701,13.6902449523659,14.2901164245409,13.886134879366,10.596010400449,16.8070857278217,12.5688612234193,16.9724346597425,13.4254520786012,13.0853519400125,10.6070984152513,13.5154347837295,13.7963040919618,14.5580410593825,10.0872428444254,14.8816678995267,15.3474566232312,15.343237295254,14.5330599051202,14.130429449695,14.1412306064181,14.0668557088931,14.6234214407629,15.6306487124656,16.0454543733047,14.6654636725342,15.9725555218068,15.2140714715785,15.8480748112823,15.5777819337179,12.234165830768,14.0404295737282,10.3663587640428,14.5345571315914,15.8927066305573,13.8161010498914,15.6750322663367,9.82079045544918,14.3461134556604,11.4491073485427,14.2857482761223,15.6110550303553,14.5219683723727,15.2223146348567,12.4234091683014,14.1842341318016,16.8881721743282,15.2319942894655,15.840694160484,16.2580284163188,16.4917615933319,8.72819342946646,9.62761036882357,7.32422616368032,8.26631061554532,9.15568169738768,8.05511510266029,9.24101570018511,7.08723417328025,9.74446954656642,8.115700105203,8.79239965457151,7.28622483982541,9.69352786156265,7.44080807174665,6.09394283496742,8.39184533944945,8.1178602760007,8.25331565603388,7.32874418810212,8.65465700096616,9.16797863839529,8.05979866067188,6.9413148181514,7.81129314528722,8.83649215719461,8.51867105724646,10.3232052796229,6.82186788685196,6.80827627760383,8.01135170422341,6.88442231049136,6.41582366304175,9.66889616477788,10.3902909935513,7.9409474654819,7.51089900108929,7.33850753955122,10.3947331681194,6.41511181587636,8.39670658594733,8.75358286256247,9.52902998361324,9.58985037411663,10.4000299224397,10.1297948507838,7.18795059282339,8.62477899983401,8.14138838315176,8.90919660960213,6.87007083905197],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["C","B","B","C","C","A","B","A","B","B","B","A","A","C","B","B","C","C","B","A","C","C","C","C","C","A","C","A","C","B","A","A","A","C","B","C","C","C","B","B","B","C","C","B","B","A","C","C","C","C","A","B","B","C","C","C","B","B","A","A","B","C","A","C","A","C","C","C","B","C","C","C","C","C","C","C","C","A","A","B","B","C","C","C","B","C","B","B","C","C","C","A","C","B","C","B","C","B","C","B","A","B","A","B","B","B","C","C","C","C","B","A","C","A","A","C","A","C","C","B","C","C","A","B","C","C","B","C","B","C","A","B","C","B","C","B","B","C","A","B","B","A","C","B","A","C","C","A","C","C","C","A","B","C","A","C","A","C","B","C","A","C","C","C","A","C","C","C","B","B","C","A","C","A","A","C","A","A","C","A","C","C","C","B","C","C","A","A","C","C","C","A","C","B","A","C","A","C","B","C","B","A","A","C","B","A","A","A","A","C","A","B","A","A","A","A","A","B","A","C","A","A","C","A","A","B","B","A","C","A","A","A","A","A","C","A","A","A","C","A","C","B","B","A","A","A","A","A","A","C"],null,{"showCoverageOnHover":true,"zoomToBoundsOnClick":true,"spiderfyOnMaxZoom":true,"removeOutsideVisibleBounds":true,"spiderLegPolylineOptions":{"weight":1.5,"color":"#222","opacity":0.5},"freezeAtZoom":false},null,["C","B","B","C","C","A","B","A","B","B","B","A","A","C","B","B","C","C","B","A","C","C","C","C","C","A","C","A","C","B","A","A","A","C","B","C","C","C","B","B","B","C","C","B","B","A","C","C","C","C","A","B","B","C","C","C","B","B","A","A","B","C","A","C","A","C","C","C","B","C","C","C","C","C","C","C","C","A","A","B","B","C","C","C","B","C","B","B","C","C","C","A","C","B","C","B","C","B","C","B","A","B","A","B","B","B","C","C","C","C","B","A","C","A","A","C","A","C","C","B","C","C","A","B","C","C","B","C","B","C","A","B","C","B","C","B","B","C","A","B","B","A","C","B","A","C","C","A","C","C","C","A","B","C","A","C","A","C","B","C","A","C","C","C","A","C","C","C","B","B","C","A","C","A","A","C","A","A","C","A","C","C","C","B","C","C","A","A","C","C","C","A","C","B","A","C","A","C","B","C","B","A","A","C","B","A","A","A","A","C","A","B","A","A","A","A","A","B","A","C","A","A","C","A","A","B","B","A","C","A","A","A","A","A","C","A","A","A","C","A","C","B","B","A","A","A","A","A","A","C"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[45.9680008701593,54.8906854323042],"lng":[6.09394283496742,16.9724346597425]}},"evals":[],"jsHooks":[]}</script>
<p style="margin-top: 30px;">
</div>
<div id="individuelle-icons" class="section level2">
<h2>Individuelle Icons</h2>
</p>
<p>Sollen die drei verschiedenen Typen klarer voneinander unterscheidbar
sein, so kann das über individuell gestaltete Icons erfolgen. Mit
AwesomeIcons steht eine Vielzahl an Icons zur Verfügung. Eine Übersicht
der Icons findet sich hier: <a
href="https://fontawesome.com/">fontawesome</a>.</p>
<p>Wir nehmen an dass es sich bei den Typen A - C um verschiedenen
Fahrzeugtypen handelt. Mögliche Icons könnten also so gestaltet
werden:</p>
<pre class="r"><code># Icons für die verschiedenen Typen definieren
IconSet &lt;- awesomeIconList(
  &quot;A&quot;   = makeAwesomeIcon(icon= &#39;car&#39;, markerColor = &#39;blue&#39;, iconColor = &#39;black&#39;, library = &quot;fa&quot;),
  &quot;B&quot; =makeAwesomeIcon(icon= &#39;truck&#39;, markerColor = &#39;orange&#39;, iconColor = &#39;black&#39;, library = &quot;fa&quot;),
  &quot;C&quot; =makeAwesomeIcon(icon= &#39;motorcycle&#39;, markerColor = &#39;green&#39;, iconColor = &#39;black&#39;, library = &quot;fa&quot;)
)

# Punktlayer erstellen
dach_df_punktlayer &lt;- sp::SpatialPointsDataFrame(as.matrix(dach_df[,c(&quot;X&quot;,&quot;Y&quot;)]), dach_df[,c(&quot;Typ&quot;,&quot;Land&quot;)])

# Karte erstellen
leaflet(data = dach_df_punktlayer) %&gt;%
     addTiles() %&gt;%  
     addAwesomeMarkers(icon = ~IconSet[Typ], label = ~paste(&quot;Fahrzeugtyp &quot;,as.character(Typ))) </code></pre>
<div id="htmlwidget-3b48dee052ff9add7989" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-3b48dee052ff9add7989">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addAwesomeMarkers","args":[[53.4536262582262,51.5279102952154,48.8265726462739,52.9809025453451,49.5348286028666,50.4208547032221,49.0652766744666,48.8628203912632,52.4941361361844,54.8906854323042,53.1751950624995,51.5843650419741,53.3659261030112,51.2528887947336,51.7597288369964,49.2104403047567,49.3273982858745,51.4963400134045,49.1990195695341,51.703792105442,51.1606608976794,53.7574812312811,51.784508042919,49.2442772349263,48.1526260992373,48.0074078105433,52.9694229161928,47.6353879903442,52.965073832512,53.0569019792671,50.0538786635278,53.3866713002481,51.054356255408,53.5649385465899,51.3530875930441,49.2313219480833,49.8166941060566,50.0024303712482,50.4602170733172,53.263290952922,52.8858965688127,49.3365979815375,50.6718265829728,49.3872307137931,52.5516063806047,53.5610619547326,52.2230496752997,51.8548149162492,52.5305781088007,48.1147845140656,52.0702012442151,49.5484028922976,49.8799007502969,51.3072642797274,50.638432870417,51.3819670913128,54.3285223842531,52.4380846569363,50.2946596766429,48.7113975599526,49.8437772448412,53.6743556573357,53.8992925225195,50.2153181011166,49.7762641388967,49.9872992864935,50.4458778507548,48.6351390763514,52.2458375223492,52.8541000963692,54.0693504304849,48.6983520494152,50.7934317133465,50.1305747375308,50.040287448558,50.3170747580168,54.6846467813573,51.1388664912577,49.5589603655183,52.3219270361356,47.6030515578219,52.9318328335005,48.2253617524864,52.6526725840332,51.7304433550661,52.8331296284419,50.9024235460861,53.1315315119533,51.456112746926,49.7040939964597,52.2657320265737,48.984783534464,53.5482952758319,52.7798235549534,54.0402931118553,49.5216857425821,50.1994129720777,53.0599963489264,48.0081085744637,50.3998243059873,52.2438285160797,48.7802849119387,48.0594348216535,52.478462266945,52.5148726785947,52.9025444224711,52.8423663174114,52.2027229940131,48.4930501278095,51.5082701115251,51.2886546730517,49.9813800336585,52.4711225878347,50.3636597088474,53.0412360502517,53.1936703787348,51.5786706245654,48.6525635507313,53.0512829958727,47.948991029809,51.9628547970113,50.3581924966346,53.4548898275243,48.853696603937,53.9423640130079,50.3658704322173,51.1061105346766,50.3275981325373,52.2779408503001,54.2808872397711,49.8155935293171,49.2979283630672,53.2596343082183,50.5402633668137,49.2725647871595,52.2538984865313,50.0867851714183,52.8670733079168,51.7083064446981,53.5109989039817,52.9474144188124,51.0189540050995,51.4352052715238,52.0268265587963,51.8905835029727,49.1419476512582,53.1950855574163,52.9918300505862,52.4252278818479,51.8380709926726,47.0166672850118,48.4493645112206,47.9771036110487,46.9317398021023,48.4806362265485,46.9062927781352,48.1167438277568,47.4323874302735,47.3910743798215,47.4773008191864,47.8172347164838,48.5127191240277,48.5701526028124,47.1709011511046,47.317092922891,47.0829357682078,47.9868741576864,46.7051602854173,47.3134450248179,48.0447887430628,48.1986661645269,48.010774112546,46.710858761075,47.1177019328996,46.8335538503645,47.8418676553151,47.4993738079962,47.396825913122,46.9323333893154,47.7087062908809,48.4780747554075,47.1847015046592,47.237410402001,48.4104079457651,48.1317120676468,48.5376616904647,47.261038728659,47.6427222141104,47.1956794778618,47.942405291354,47.9641311462463,48.5614618196134,47.1337011108699,47.0606374117562,47.2680653502651,47.8323834265727,47.7092894406215,47.184631546295,47.3118099454085,48.6944775199411,46.8964972385263,46.5833117984578,46.3072995960946,47.5503797786934,47.1683461429158,46.5418927266733,47.0183362554776,46.944700020547,47.0094705133021,47.5538224940683,47.453771603817,45.9680008701593,47.0356080838363,46.8149252196847,46.2600913077916,46.9526816252149,46.5266966826971,46.387045394615,47.1874526403382,46.1094909912055,47.1378819361823,46.8334859480564,47.1942922955493,46.8054019170347,47.424758994298,47.5081017499143,46.822094329565,46.4773837486455,46.9296955598922,46.1832569025222,46.6762323703532,46.6393031847795,46.9127794290367,46.5550880802145,46.4108403027004,47.3911465961475,46.7359630379202,46.6802590686624,46.576488304089,46.581060446242,46.2895165028351,47.3603267377177,46.5974650544174,46.5771331437981,46.7119745245541,46.399914470821,46.3540761671009,47.2068602066758,46.2167891795134,46.9044601915718],[11.5572108279472,11.4379167892686,11.5671029741614,13.7427141512123,11.7221768905751,11.9582353125733,10.5675879194769,12.2101790688546,10.8489887553815,8.44709961634026,8.53486429118364,13.5263788739084,8.30135294292661,7.56772887883363,7.98449569555433,8.75739897715103,8.62991294407878,6.22384542558888,7.86152247572259,10.6724264858189,14.2349487042194,13.4718770118095,10.034898832536,8.28638601246585,8.64803723141333,10.503984769266,7.51619455845151,7.70076681652056,8.22797989078936,13.2521258443125,10.9255472794698,11.7780059724101,11.5528125755431,8.87791162231354,10.4553555654902,12.0590838495858,10.2995940750715,8.0916836706929,12.8684285171922,8.69396452166893,12.4270702672197,10.4786969291323,7.25884954694271,10.4730876875878,10.3817481456933,12.7378237577547,7.45715159530108,8.76261691072962,8.04677576950571,12.3283616855165,8.67938468532454,10.5153484019862,6.33055515439142,6.9701665306965,13.0301899600171,9.37704964446223,8.79432809705577,11.9803237106505,10.1797793785992,10.8425308645792,9.42498001028912,8.70481050344154,14.0657592426194,7.38153381526177,7.08555271864235,7.06298418268842,6.82185640369419,10.5431555163961,8.60706729207022,8.69360575588134,12.6546543477104,11.0330979954039,8.42442349287385,7.7277703438464,7.08244507495741,7.04785342816304,9.84658423461812,12.3907070592086,6.97325841296334,14.2205652895634,8.41433427668674,13.1587775714171,12.6744155983146,14.2470025851183,10.3100736076051,8.45374873615699,8.16144724292865,10.4668749229831,8.77419082435288,11.6652876609132,14.2318231090235,10.1420678858693,14.1755152327961,11.3322993005106,10.4622463973481,8.8285977660782,10.2664721725183,9.12719345826017,11.6046391123183,12.649896510633,11.0412560380268,11.1405946926014,7.95128289028578,8.006801275353,9.29766503263972,10.9419698817056,9.79083201502001,11.1320313655095,9.81889026292219,6.63590171507663,11.694586569769,6.52353219772734,13.2067854477654,8.83677019464703,12.7935919242997,11.2089102871761,12.349837804427,9.76822560133528,9.00433009280432,12.810361746887,9.74124699031429,10.9947318994829,8.63292103343511,9.01585079591418,11.3595096178126,6.55437292983021,14.6135342778138,11.6501117994313,8.69769742727156,12.6587732705094,11.7093606632991,12.5686740462336,11.7120467386307,11.9094254293346,8.76547148673119,12.8903707612237,10.6780221880259,8.67545528766057,9.55937549420744,7.72965829559733,11.0444062104576,8.42549848513745,12.8006660436863,14.3953737361688,11.7073640087303,10.2467574320655,13.6455961249882,8.22190585907822,8.92438992458078,10.4329058532701,13.6902449523659,14.2901164245409,13.886134879366,10.596010400449,16.8070857278217,12.5688612234193,16.9724346597425,13.4254520786012,13.0853519400125,10.6070984152513,13.5154347837295,13.7963040919618,14.5580410593825,10.0872428444254,14.8816678995267,15.3474566232312,15.343237295254,14.5330599051202,14.130429449695,14.1412306064181,14.0668557088931,14.6234214407629,15.6306487124656,16.0454543733047,14.6654636725342,15.9725555218068,15.2140714715785,15.8480748112823,15.5777819337179,12.234165830768,14.0404295737282,10.3663587640428,14.5345571315914,15.8927066305573,13.8161010498914,15.6750322663367,9.82079045544918,14.3461134556604,11.4491073485427,14.2857482761223,15.6110550303553,14.5219683723727,15.2223146348567,12.4234091683014,14.1842341318016,16.8881721743282,15.2319942894655,15.840694160484,16.2580284163188,16.4917615933319,8.72819342946646,9.62761036882357,7.32422616368032,8.26631061554532,9.15568169738768,8.05511510266029,9.24101570018511,7.08723417328025,9.74446954656642,8.115700105203,8.79239965457151,7.28622483982541,9.69352786156265,7.44080807174665,6.09394283496742,8.39184533944945,8.1178602760007,8.25331565603388,7.32874418810212,8.65465700096616,9.16797863839529,8.05979866067188,6.9413148181514,7.81129314528722,8.83649215719461,8.51867105724646,10.3232052796229,6.82186788685196,6.80827627760383,8.01135170422341,6.88442231049136,6.41582366304175,9.66889616477788,10.3902909935513,7.9409474654819,7.51089900108929,7.33850753955122,10.3947331681194,6.41511181587636,8.39670658594733,8.75358286256247,9.52902998361324,9.58985037411663,10.4000299224397,10.1297948507838,7.18795059282339,8.62477899983401,8.14138838315176,8.90919660960213,6.87007083905197],{"icon":["motorcycle","truck","truck","motorcycle","motorcycle","car","truck","car","truck","truck","truck","car","car","motorcycle","truck","truck","motorcycle","motorcycle","truck","car","motorcycle","motorcycle","motorcycle","motorcycle","motorcycle","car","motorcycle","car","motorcycle","truck","car","car","car","motorcycle","truck","motorcycle","motorcycle","motorcycle","truck","truck","truck","motorcycle","motorcycle","truck","truck","car","motorcycle","motorcycle","motorcycle","motorcycle","car","truck","truck","motorcycle","motorcycle","motorcycle","truck","truck","car","car","truck","motorcycle","car","motorcycle","car","motorcycle","motorcycle","motorcycle","truck","motorcycle","motorcycle","motorcycle","motorcycle","motorcycle","motorcycle","motorcycle","motorcycle","car","car","truck","truck","motorcycle","motorcycle","motorcycle","truck","motorcycle","truck","truck","motorcycle","motorcycle","motorcycle","car","motorcycle","truck","motorcycle","truck","motorcycle","truck","motorcycle","truck","car","truck","car","truck","truck","truck","motorcycle","motorcycle","motorcycle","motorcycle","truck","car","motorcycle","car","car","motorcycle","car","motorcycle","motorcycle","truck","motorcycle","motorcycle","car","truck","motorcycle","motorcycle","truck","motorcycle","truck","motorcycle","car","truck","motorcycle","truck","motorcycle","truck","truck","motorcycle","car","truck","truck","car","motorcycle","truck","car","motorcycle","motorcycle","car","motorcycle","motorcycle","motorcycle","car","truck","motorcycle","car","motorcycle","car","motorcycle","truck","motorcycle","car","motorcycle","motorcycle","motorcycle","car","motorcycle","motorcycle","motorcycle","truck","truck","motorcycle","car","motorcycle","car","car","motorcycle","car","car","motorcycle","car","motorcycle","motorcycle","motorcycle","truck","motorcycle","motorcycle","car","car","motorcycle","motorcycle","motorcycle","car","motorcycle","truck","car","motorcycle","car","motorcycle","truck","motorcycle","truck","car","car","motorcycle","truck","car","car","car","car","motorcycle","car","truck","car","car","car","car","car","truck","car","motorcycle","car","car","motorcycle","car","car","truck","truck","car","motorcycle","car","car","car","car","car","motorcycle","car","car","car","motorcycle","car","motorcycle","truck","truck","car","car","car","car","car","car","motorcycle"],"markerColor":["green","orange","orange","green","green","blue","orange","blue","orange","orange","orange","blue","blue","green","orange","orange","green","green","orange","blue","green","green","green","green","green","blue","green","blue","green","orange","blue","blue","blue","green","orange","green","green","green","orange","orange","orange","green","green","orange","orange","blue","green","green","green","green","blue","orange","orange","green","green","green","orange","orange","blue","blue","orange","green","blue","green","blue","green","green","green","orange","green","green","green","green","green","green","green","green","blue","blue","orange","orange","green","green","green","orange","green","orange","orange","green","green","green","blue","green","orange","green","orange","green","orange","green","orange","blue","orange","blue","orange","orange","orange","green","green","green","green","orange","blue","green","blue","blue","green","blue","green","green","orange","green","green","blue","orange","green","green","orange","green","orange","green","blue","orange","green","orange","green","orange","orange","green","blue","orange","orange","blue","green","orange","blue","green","green","blue","green","green","green","blue","orange","green","blue","green","blue","green","orange","green","blue","green","green","green","blue","green","green","green","orange","orange","green","blue","green","blue","blue","green","blue","blue","green","blue","green","green","green","orange","green","green","blue","blue","green","green","green","blue","green","orange","blue","green","blue","green","orange","green","orange","blue","blue","green","orange","blue","blue","blue","blue","green","blue","orange","blue","blue","blue","blue","blue","orange","blue","green","blue","blue","green","blue","blue","orange","orange","blue","green","blue","blue","blue","blue","blue","green","blue","blue","blue","green","blue","green","orange","orange","blue","blue","blue","blue","blue","blue","green"],"iconColor":"black","spin":false,"squareMarker":false,"iconRotate":0,"prefix":"fa"},null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,["Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  B","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  B","Fahrzeugtyp  A","Fahrzeugtyp  B","Fahrzeugtyp  B","Fahrzeugtyp  B","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  B","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  B","Fahrzeugtyp  B","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  B","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  B","Fahrzeugtyp  B","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  B","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  B","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  B","Fahrzeugtyp  B","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  B","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  A","Fahrzeugtyp  B","Fahrzeugtyp  A","Fahrzeugtyp  B","Fahrzeugtyp  B","Fahrzeugtyp  B","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  B","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  B","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  B","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  B","Fahrzeugtyp  B","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  B","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  B","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  B","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  B","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  B","Fahrzeugtyp  B","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  A","Fahrzeugtyp  C","Fahrzeugtyp  B","Fahrzeugtyp  B","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  A","Fahrzeugtyp  C"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[45.9680008701593,54.8906854323042],"lng":[6.09394283496742,16.9724346597425]}},"evals":[],"jsHooks":[]}</script>
<p style="margin-top: 30px;">
</div>
<div id="minicharts" class="section level2">
<h2>Minicharts</h2>
</p>
<p>mit dem Package <code>leaflet.minicharts</code> lassen sich
Verteilungen auf die Landkarte plotten. Dazu benötigen wir geeignete
Daten zu den Ländern. In diesem Fall wird die Anzahl der Typen A - C je
Land gezäht.</p>
<pre class="r"><code># Daten aus Koordinaten aggregieren:
dach_df_agg &lt;- dach_df %&gt;%
  group_by(Typ,Land) %&gt;%
  summarize(Anz = n_distinct(X)) %&gt;%
  pivot_wider(names_from = Typ,values_from = Anz) %&gt;%
  ungroup()

dach_agg_ges = dach_df %&gt;%
  group_by(Land) %&gt;%
  summarize(X = mean(X), Y = mean(Y)) %&gt;%
  ungroup() %&gt;%
  left_join(dach_df_agg, by = &quot;Land&quot;)</code></pre>
<p>Diese Daten lassen sich nun als Balkendiagramme auf die einzelnen
Länder legen.</p>
<pre class="r"><code>library(leaflet.minicharts)

 leaflet(data = dach_agg_ges) %&gt;%
     addProviderTiles(providers$Esri.WorldGrayCanvas) %&gt;%  # Default ist hier OpenStreetMap
     addMinicharts(lng = dach_agg_ges$X, lat = dach_agg_ges$Y, type = &quot;bar&quot;, chartdata = dach_agg_ges[,4:6], width =80, height = 80)</code></pre>
<div id="htmlwidget-edac1c846f8c1b1949e1" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-edac1c846f8c1b1949e1">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["Esri.WorldGrayCanvas",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addMinicharts","args":[[{"dyn":{},"static":{"type":"bar","width":80,"height":80,"opacity":1,"labels":"none","labelMinSize":8,"labelMaxSize":24,"transitionTime":750,"fillColor":"#1f77b4","layerId":"_minichart (10.2367051038664,51.2542042134035)","lat":51.2542042134035,"lng":10.2367051038664},"timeSteps":1},{"dyn":{},"static":{"type":"bar","width":80,"height":80,"opacity":1,"labels":"none","labelMinSize":8,"labelMaxSize":24,"transitionTime":750,"fillColor":"#1f77b4","layerId":"_minichart (14.2608393132193,47.6338735968236)","lat":47.6338735968236,"lng":14.2608393132193},"timeSteps":1},{"dyn":{},"static":{"type":"bar","width":80,"height":80,"opacity":1,"labels":"none","labelMinSize":8,"labelMaxSize":24,"transitionTime":750,"fillColor":"#1f77b4","layerId":"_minichart (8.32382288754361,46.7872770272985)","lat":46.7872770272985,"lng":8.32382288754361},"timeSteps":1}],[[[31,47,72]],[[16,7,27]],[[33,8,9]]],72,["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","e377c2","#7f7f7f","#bcbd22","#17becf"],["1"],null,{"showTitle":true,"showValues":true,"labels":["A","B","C"],"supValues":null,"supLabels":[],"html":null,"noPopup":false,"digits":null},null,null]},{"method":"addLegend","args":[{"colors":["#1f77b4","#ff7f0e","#2ca02c"],"labels":["A","B","C"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"unknown","title":null,"extra":null,"layerId":"minichartsLegend","className":"info legend","group":null}]}],"limits":{"lat":[46.7872770272985,51.2542042134035],"lng":[8.32382288754361,14.2608393132193]}},"evals":[],"jsHooks":[]}</script>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
